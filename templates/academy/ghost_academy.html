{% extends 'base.html' %}
{% block title %}Ghost Academy Â· CyberKidzSec Vault{% endblock %}

{% block content %}
<section class="section-container py-20 max-w-4xl mx-auto text-center space-y-12" data-aos="fade-up">

  <!-- ðŸŽ“ Academy Header -->
  <header>
    <h1 class="text-5xl font-extrabold text-orangeLuxe-light tracking-tight mb-4">ðŸŽ“ Ghost Academy</h1>
    <p class="text-orange-300 text-lg">Sharpen your hacking skills. Earn XP. Become a legend.</p>
  </header>

  <!-- ðŸ§  Mission List -->
  <nav role="navigation" aria-label="Academy Missions" class="space-y-6" id="academyMissions">
    <button class="btn btn--primary block w-full text-left hover-lift" data-xp="10">
      <span class="flex justify-between items-center">
        <span>Complete the XSS Basics Mission</span>
        <span class="text-sm bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded font-mono">+10 XP</span>
      </span>
    </button>

    <button class="btn btn--primary block w-full text-left hover-lift" data-xp="20">
      <span class="flex justify-between items-center">
        <span>Learn to Hunt IDORs</span>
        <span class="text-sm bg-yellow-400/10 text-yellow-300 px-2 py-1 rounded font-mono">+20 XP</span>
      </span>
    </button>

    <button class="btn btn--primary block w-full text-left hover-lift" data-xp="50">
      <span class="flex justify-between items-center">
        <span>Submit a Knowledge Post</span>
        <span class="text-sm bg-orangeLuxe/10 text-orangeLuxe-light px-2 py-1 rounded font-mono">+50 XP</span>
      </span>
    </button>
  </nav>

  <!-- ðŸ§¬ Progress Feedback -->
  <p id="xpFeedback" class="mt-6 text-sm text-orange-400 font-mono" aria-live="polite"></p>

</section>
{% endblock %}

{% block scripts_extra %}
<script>
(() => {
  const buttons = document.querySelectorAll('#academyMissions button');
  const feedback = document.getElementById('xpFeedback');

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const xp = parseInt(btn.dataset.xp);
      const currentXP = parseInt(localStorage.getItem("academy_xp") || 0);
      const newXP = currentXP + xp;
      localStorage.setItem("academy_xp", newXP);
      feedback.textContent = `ðŸŽ‰ +${xp} XP earned! Total XP: ${newXP}`;
    });
  });
})();
</script>
{% endblock %}

